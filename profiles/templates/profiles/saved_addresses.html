{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">Manage Your Addresses</h2>
    
    <!-- List of Saved Addresses -->
    {% if addresses %}
        <div class="list-group mb-4">
            {% for address in addresses %}
                <div class="list-group-item">
                    <h5 class="mb-1">{{ address.recipient_name }}</h5>
                    <p class="mb-1">
                        {{ address.recipient_street_address1 }}<br>
                        {% if address.recipient_street_address2 %}{{ address.recipient_street_address2 }}<br>{% endif %}
                        {{ address.recipient_town_or_city }}, {{ address.recipient_county }}<br>
                        {{ address.recipient_postcode }}<br>
                        {{ address.recipient_country }}
                    </p>
                    <div class="btn-group" role="group">
                        <a href="{% url 'edit_address' address.id %}" class="btn btn-outline-secondary">Edit</a>
                        <a href="{% url 'delete_address' address.id %}" class="btn btn-outline-danger">Delete</a>
                        {% if not address.is_default %}
                            <a href="{% url 'set_default_address' address.id %}" class="btn btn-outline-primary">Set as Default</a>
                        {% else %}
                            <span class="badge badge-primary">Default</span>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-muted">You do not have any saved addresses. Add one below.</p>
    {% endif %}

    <!-- Button to Add New Address -->
    <a href="{% url 'add_address' %}" class="btn btn-primary">Add New Address</a>
</div>
{% endblock %}
